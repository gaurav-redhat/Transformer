<svg width="900" height="700" viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <rect x="0" y="0" width="900" height="60" fill="#E91E63"/>
  <text x="450" y="38" font-family="Arial, sans-serif" font-size="26" font-weight="bold" fill="white" text-anchor="middle">2017: Original Transformer Block</text>
  
  <!-- Paper reference -->
  <text x="450" y="85" font-family="Arial, sans-serif" font-size="14" fill="#666" text-anchor="middle">"Attention Is All You Need" - Google Brain | 65M parameters | Post-Norm Architecture</text>
  
  <!-- ENCODER BLOCK -->
  <rect x="50" y="110" width="350" height="500" rx="15" fill="#E8F5E9" stroke="#4CAF50" stroke-width="3"/>
  <text x="225" y="145" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2E7D32" text-anchor="middle">ENCODER BLOCK</text>
  
  <!-- Encoder Input -->
  <rect x="100" y="550" width="200" height="40" rx="8" fill="#C8E6C9" stroke="#4CAF50" stroke-width="2"/>
  <text x="200" y="575" font-family="Arial, sans-serif" font-size="14" fill="#2E7D32" text-anchor="middle">Input (x)</text>
  
  <!-- Multi-Head Self-Attention (Encoder) -->
  <rect x="100" y="420" width="200" height="60" rx="10" fill="#FF9800"/>
  <text x="200" y="445" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Multi-Head</text>
  <text x="200" y="465" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Self-Attention</text>
  
  <!-- Add & Norm 1 (Encoder) -->
  <rect x="100" y="350" width="200" height="40" rx="8" fill="#FFE082" stroke="#FFC107" stroke-width="2"/>
  <text x="200" y="375" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#F57F17" text-anchor="middle">Add &amp; LayerNorm</text>
  
  <!-- Feed Forward (Encoder) -->
  <rect x="100" y="250" width="200" height="60" rx="10" fill="#9C27B0"/>
  <text x="200" y="275" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Feed-Forward</text>
  <text x="200" y="295" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">ReLU(xW1)W2</text>
  
  <!-- Add & Norm 2 (Encoder) -->
  <rect x="100" y="170" width="200" height="40" rx="8" fill="#FFE082" stroke="#FFC107" stroke-width="2"/>
  <text x="200" y="195" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#F57F17" text-anchor="middle">Add &amp; LayerNorm</text>
  
  <!-- Residual connections (Encoder) -->
  <path d="M80 570 L80 370 L100 370" stroke="#4CAF50" stroke-width="2" fill="none" stroke-dasharray="5,3"/>
  <path d="M80 370 L80 190 L100 190" stroke="#4CAF50" stroke-width="2" fill="none" stroke-dasharray="5,3"/>
  <text x="60" y="450" font-family="Arial, sans-serif" font-size="10" fill="#4CAF50" text-anchor="middle">Res</text>
  
  <!-- Arrows (Encoder) -->
  <line x1="200" y1="550" x2="200" y2="485" stroke="#666" stroke-width="2"/>
  <polygon points="195,490 200,480 205,490" fill="#666"/>
  <line x1="200" y1="420" x2="200" y2="395" stroke="#666" stroke-width="2"/>
  <polygon points="195,400 200,390 205,400" fill="#666"/>
  <line x1="200" y1="350" x2="200" y2="315" stroke="#666" stroke-width="2"/>
  <polygon points="195,320 200,310 205,320" fill="#666"/>
  <line x1="200" y1="250" x2="200" y2="215" stroke="#666" stroke-width="2"/>
  <polygon points="195,220 200,210 205,220" fill="#666"/>
  
  <!-- DECODER BLOCK -->
  <rect x="500" y="110" width="350" height="500" rx="15" fill="#E3F2FD" stroke="#2196F3" stroke-width="3"/>
  <text x="675" y="145" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1565C0" text-anchor="middle">DECODER BLOCK</text>
  
  <!-- Decoder Input -->
  <rect x="550" y="550" width="200" height="40" rx="8" fill="#BBDEFB" stroke="#2196F3" stroke-width="2"/>
  <text x="650" y="575" font-family="Arial, sans-serif" font-size="14" fill="#1565C0" text-anchor="middle">Output (shifted)</text>
  
  <!-- Masked Multi-Head Self-Attention -->
  <rect x="550" y="470" width="200" height="50" rx="10" fill="#FF9800"/>
  <text x="650" y="490" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Masked Self-Attention</text>
  <text x="650" y="510" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">(Causal Mask)</text>
  
  <!-- Add & Norm 1 (Decoder) -->
  <rect x="550" y="420" width="200" height="35" rx="8" fill="#FFE082" stroke="#FFC107" stroke-width="2"/>
  <text x="650" y="443" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#F57F17" text-anchor="middle">Add &amp; LayerNorm</text>
  
  <!-- Cross-Attention -->
  <rect x="550" y="340" width="200" height="50" rx="10" fill="#FF5722"/>
  <text x="650" y="360" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Cross-Attention</text>
  <text x="650" y="380" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">(Encoder K, V)</text>
  
  <!-- Add & Norm 2 (Decoder) -->
  <rect x="550" y="290" width="200" height="35" rx="8" fill="#FFE082" stroke="#FFC107" stroke-width="2"/>
  <text x="650" y="313" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#F57F17" text-anchor="middle">Add &amp; LayerNorm</text>
  
  <!-- Feed Forward (Decoder) -->
  <rect x="550" y="210" width="200" height="50" rx="10" fill="#9C27B0"/>
  <text x="650" y="230" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Feed-Forward</text>
  <text x="650" y="250" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">ReLU(xW1)W2</text>
  
  <!-- Add & Norm 3 (Decoder) -->
  <rect x="550" y="170" width="200" height="35" rx="8" fill="#FFE082" stroke="#FFC107" stroke-width="2"/>
  <text x="650" y="193" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#F57F17" text-anchor="middle">Add &amp; LayerNorm</text>
  
  <!-- Cross-attention connection from encoder -->
  <path d="M300 280 L420 280 L420 365 L550 365" stroke="#FF5722" stroke-width="3" fill="none"/>
  <polygon points="545,360 555,365 545,370" fill="#FF5722"/>
  <text x="420" y="270" font-family="Arial, sans-serif" font-size="10" fill="#FF5722" text-anchor="middle">K, V from Encoder</text>
  
  <!-- Key characteristics -->
  <rect x="50" y="630" width="800" height="60" rx="10" fill="#FFF8E1" stroke="#FFC107" stroke-width="2"/>
  <text x="450" y="655" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#F57F17" text-anchor="middle">Key Characteristics (2017)</text>
  <text x="450" y="678" font-family="Arial, sans-serif" font-size="12" fill="#666" text-anchor="middle">Post-LayerNorm | ReLU Activation | Sinusoidal Positional Encoding | d=512, h=8, d_ff=2048</text>
</svg>