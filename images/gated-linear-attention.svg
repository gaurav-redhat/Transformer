<svg width="950" height="600" viewBox="0 0 950 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <rect x="0" y="0" width="950" height="50" fill="#009688"/>
  <text x="475" y="33" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="white" text-anchor="middle">Gated Linear Attention (GLA)</text>
  
  <!-- Key Insight -->
  <rect x="30" y="70" width="890" height="80" rx="10" fill="#E0F2F1" stroke="#009688" stroke-width="3"/>
  <text x="475" y="100" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#00695C" text-anchor="middle">Key Insight: Add data-dependent gating to linear attention</text>
  <text x="475" y="125" font-family="Arial, sans-serif" font-size="12" fill="#666" text-anchor="middle">Gate controls how much past information to retain (like LSTM forget gate)</text>
  
  <!-- Standard vs Gated -->
  <rect x="30" y="170" width="420" height="170" rx="10" fill="#FFEBEE" stroke="#F44336" stroke-width="2"/>
  <text x="240" y="200" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#C62828" text-anchor="middle">Standard Linear Attention</text>
  
  <text x="50" y="240" font-family="Courier New, monospace" font-size="11" fill="#333">S_t = S_{t-1} + k_t ⊗ v_t</text>
  <text x="50" y="270" font-family="Courier New, monospace" font-size="11" fill="#333">o_t = Σ_i (q_t · k_i) v_i</text>
  <text x="50" y="310" font-family="Arial, sans-serif" font-size="11" fill="#C62828">No forgetting mechanism!</text>
  
  <!-- GLA -->
  <rect x="500" y="170" width="420" height="170" rx="10" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
  <text x="710" y="200" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2E7D32" text-anchor="middle">Gated Linear Attention</text>
  
  <text x="520" y="240" font-family="Courier New, monospace" font-size="11" fill="#333">S_t = G_t ⊙ S_{t-1} + k_t ⊗ v_t</text>
  <text x="520" y="270" font-family="Courier New, monospace" font-size="11" fill="#333">G_t = σ(W_g x_t) ∈ (0,1)^{d×d}</text>
  <text x="520" y="310" font-family="Arial, sans-serif" font-size="11" fill="#2E7D32">Data-dependent forgetting!</text>
  
  <!-- Complexity comparison -->
  <rect x="30" y="360" width="890" height="220" rx="10" fill="#FAFAFA" stroke="#E0E0E0" stroke-width="2"/>
  <text x="475" y="390" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333" text-anchor="middle">Gating Strategies Comparison</text>
  
  <!-- Mamba -->
  <rect x="50" y="420" width="260" height="140" rx="8" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
  <text x="180" y="450" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1565C0" text-anchor="middle">Mamba (S6)</text>
  <text x="70" y="480" font-family="Courier New, monospace" font-size="10" fill="#333">Δ, B, C = f(x)</text>
  <text x="70" y="505" font-family="Arial, sans-serif" font-size="10" fill="#666">Selective state spaces</text>
  <text x="70" y="530" font-family="Arial, sans-serif" font-size="10" fill="#666">Input-dependent discretization</text>
  <text x="70" y="550" font-family="Arial, sans-serif" font-size="10" fill="#1565C0">O(n) time, O(1) state per step</text>
  
  <!-- GLA -->
  <rect x="340" y="420" width="260" height="140" rx="8" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
  <text x="470" y="450" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2E7D32" text-anchor="middle">GLA</text>
  <text x="360" y="480" font-family="Courier New, monospace" font-size="10" fill="#333">G = σ(Wx) (channel-wise)</text>
  <text x="360" y="505" font-family="Arial, sans-serif" font-size="10" fill="#666">Per-dimension forget gates</text>
  <text x="360" y="530" font-family="Arial, sans-serif" font-size="10" fill="#666">Like LSTM but for attention</text>
  <text x="360" y="550" font-family="Arial, sans-serif" font-size="10" fill="#2E7D32">O(nd²) chunk-wise parallel</text>
  
  <!-- KDA -->
  <rect x="630" y="420" width="260" height="140" rx="8" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
  <text x="760" y="450" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#E65100" text-anchor="middle">KDA (Kimi)</text>
  <text x="650" y="480" font-family="Courier New, monospace" font-size="10" fill="#333">GLA + Delta Rule</text>
  <text x="650" y="505" font-family="Arial, sans-serif" font-size="10" fill="#666">Combines best of both</text>
  <text x="650" y="530" font-family="Arial, sans-serif" font-size="10" fill="#666">DPLR transition matrices</text>
  <text x="650" y="550" font-family="Arial, sans-serif" font-size="10" fill="#E65100">6× faster than full attention!</text>
</svg>
