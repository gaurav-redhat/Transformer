<svg width="800" height="900" viewBox="0 0 800 900" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <rect x="0" y="0" width="800" height="50" fill="#6A11CB"/>
  <text x="400" y="32" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="white" text-anchor="middle">Transformer Architecture (2017)</text>
  
  <text x="400" y="75" font-family="Arial, sans-serif" font-size="14" fill="#666" text-anchor="middle">"Attention Is All You Need" - Vaswani et al.</text>
  
  <!-- ENCODER SIDE -->
  <text x="200" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2E7D32" text-anchor="middle">ENCODER</text>
  
  <!-- Encoder Block -->
  <rect x="50" y="125" width="300" height="380" rx="12" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
  <text x="200" y="155" font-family="Arial, sans-serif" font-size="12" fill="#2E7D32" text-anchor="middle">Nx (6 layers)</text>
  
  <!-- Multi-Head Attention (Encoder) -->
  <rect x="80" y="175" width="240" height="55" rx="8" fill="#FF9800"/>
  <text x="200" y="200" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Multi-Head</text>
  <text x="200" y="218" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Self-Attention</text>
  
  <!-- Add & Norm 1 -->
  <rect x="80" y="245" width="240" height="35" rx="6" fill="#FFE082"/>
  <text x="200" y="268" font-family="Arial, sans-serif" font-size="11" fill="#333" text-anchor="middle">Add &amp; LayerNorm</text>
  
  <!-- Feed Forward (Encoder) -->
  <rect x="80" y="295" width="240" height="55" rx="8" fill="#9C27B0"/>
  <text x="200" y="320" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Feed Forward</text>
  <text x="200" y="338" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Network</text>
  
  <!-- Add & Norm 2 -->
  <rect x="80" y="365" width="240" height="35" rx="6" fill="#FFE082"/>
  <text x="200" y="388" font-family="Arial, sans-serif" font-size="11" fill="#333" text-anchor="middle">Add &amp; LayerNorm</text>
  
  <!-- Residual connections (Encoder) -->
  <line x1="60" y1="200" x2="60" y2="260" stroke="#4CAF50" stroke-width="2" stroke-dasharray="4,2"/>
  <line x1="60" y1="260" x2="80" y2="260" stroke="#4CAF50" stroke-width="2"/>
  <line x1="60" y1="320" x2="60" y2="380" stroke="#4CAF50" stroke-width="2" stroke-dasharray="4,2"/>
  <line x1="60" y1="380" x2="80" y2="380" stroke="#4CAF50" stroke-width="2"/>
  
  <!-- Input Embedding -->
  <rect x="80" y="520" width="240" height="45" rx="6" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
  <text x="200" y="548" font-family="Arial, sans-serif" font-size="12" fill="#1976D2" text-anchor="middle">Input Embedding</text>
  
  <!-- Positional Encoding (Encoder) -->
  <rect x="80" y="580" width="240" height="35" rx="6" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
  <text x="200" y="602" font-family="Arial, sans-serif" font-size="11" fill="#E65100" text-anchor="middle">+ Positional Encoding</text>
  
  <!-- Input -->
  <rect x="120" y="640" width="160" height="35" rx="6" fill="#ECEFF1" stroke="#607D8B" stroke-width="2"/>
  <text x="200" y="663" font-family="Arial, sans-serif" font-size="12" fill="#455A64" text-anchor="middle">Inputs</text>
  
  <!-- Arrows (Encoder) -->
  <line x1="200" y1="640" x2="200" y2="620" stroke="#666" stroke-width="2"/>
  <polygon points="195,620 200,610 205,620" fill="#666"/>
  <line x1="200" y1="580" x2="200" y2="570" stroke="#666" stroke-width="2"/>
  <polygon points="195,570 200,560 205,570" fill="#666"/>
  <line x1="200" y1="520" x2="200" y2="510" stroke="#666" stroke-width="2"/>
  <polygon points="195,510 200,500 205,510" fill="#666"/>
  
  <!-- DECODER SIDE -->
  <text x="600" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1565C0" text-anchor="middle">DECODER</text>
  
  <!-- Decoder Block -->
  <rect x="450" y="125" width="300" height="480" rx="12" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
  <text x="600" y="155" font-family="Arial, sans-serif" font-size="12" fill="#1565C0" text-anchor="middle">Nx (6 layers)</text>
  
  <!-- Masked Multi-Head Attention -->
  <rect x="480" y="175" width="240" height="55" rx="8" fill="#FF9800"/>
  <text x="600" y="195" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Masked Multi-Head</text>
  <text x="600" y="215" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Self-Attention</text>
  
  <!-- Add & Norm 1 (Decoder) -->
  <rect x="480" y="245" width="240" height="30" rx="6" fill="#FFE082"/>
  <text x="600" y="265" font-family="Arial, sans-serif" font-size="10" fill="#333" text-anchor="middle">Add &amp; LayerNorm</text>
  
  <!-- Cross Attention -->
  <rect x="480" y="290" width="240" height="55" rx="8" fill="#FF5722"/>
  <text x="600" y="312" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Multi-Head Cross-Attention</text>
  <text x="600" y="332" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">(Encoder-Decoder)</text>
  
  <!-- Add & Norm 2 (Decoder) -->
  <rect x="480" y="360" width="240" height="30" rx="6" fill="#FFE082"/>
  <text x="600" y="380" font-family="Arial, sans-serif" font-size="10" fill="#333" text-anchor="middle">Add &amp; LayerNorm</text>
  
  <!-- Feed Forward (Decoder) -->
  <rect x="480" y="405" width="240" height="55" rx="8" fill="#9C27B0"/>
  <text x="600" y="430" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Feed Forward</text>
  <text x="600" y="448" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Network</text>
  
  <!-- Add & Norm 3 (Decoder) -->
  <rect x="480" y="475" width="240" height="30" rx="6" fill="#FFE082"/>
  <text x="600" y="495" font-family="Arial, sans-serif" font-size="10" fill="#333" text-anchor="middle">Add &amp; LayerNorm</text>
  
  <!-- Output Embedding -->
  <rect x="480" y="640" width="240" height="45" rx="6" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
  <text x="600" y="668" font-family="Arial, sans-serif" font-size="12" fill="#1976D2" text-anchor="middle">Output Embedding</text>
  
  <!-- Positional Encoding (Decoder) -->
  <rect x="480" y="700" width="240" height="35" rx="6" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
  <text x="600" y="722" font-family="Arial, sans-serif" font-size="11" fill="#E65100" text-anchor="middle">+ Positional Encoding</text>
  
  <!-- Output (shifted) -->
  <rect x="520" y="760" width="160" height="35" rx="6" fill="#ECEFF1" stroke="#607D8B" stroke-width="2"/>
  <text x="600" y="783" font-family="Arial, sans-serif" font-size="12" fill="#455A64" text-anchor="middle">Outputs (shifted)</text>
  
  <!-- Linear + Softmax -->
  <rect x="520" y="45" width="160" height="35" rx="6" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
  <text x="600" y="68" font-family="Arial, sans-serif" font-size="11" fill="#2E7D32" text-anchor="middle">Linear + Softmax</text>
  
  <!-- Output Probabilities -->
  <text x="600" y="30" font-family="Arial, sans-serif" font-size="11" fill="#666" text-anchor="middle">Output Probabilities</text>
  
  <!-- Connection: Encoder to Cross-Attention -->
  <line x1="350" y1="310" x2="480" y2="310" stroke="#FF5722" stroke-width="3"/>
  <polygon points="475,305 485,310 475,315" fill="#FF5722"/>
  <text x="415" y="300" font-family="Arial, sans-serif" font-size="10" fill="#FF5722" text-anchor="middle">K, V</text>
  
  <!-- Legend -->
  <rect x="50" y="820" width="700" height="70" rx="8" fill="#F5F5F5" stroke="#E0E0E0"/>
  <text x="400" y="845" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333" text-anchor="middle">Legend</text>
  
  <rect x="80" y="858" width="60" height="20" rx="3" fill="#FF9800"/>
  <text x="160" y="872" font-family="Arial, sans-serif" font-size="10" fill="#333">Attention</text>
  
  <rect x="230" y="858" width="60" height="20" rx="3" fill="#9C27B0"/>
  <text x="310" y="872" font-family="Arial, sans-serif" font-size="10" fill="#333">FFN</text>
  
  <rect x="370" y="858" width="60" height="20" rx="3" fill="#FFE082"/>
  <text x="450" y="872" font-family="Arial, sans-serif" font-size="10" fill="#333">Add &amp; Norm</text>
  
  <line x1="520" y1="868" x2="570" y2="868" stroke="#666" stroke-width="2" stroke-dasharray="4,2"/>
  <text x="600" y="872" font-family="Arial, sans-serif" font-size="10" fill="#333">Residual</text>
</svg>