<svg width="850" height="550" viewBox="0 0 850 550" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <rect x="0" y="0" width="850" height="45" fill="#FF9800"/>
  <text x="425" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white" text-anchor="middle">Scaled Dot-Product Attention</text>
  
  <!-- Formula Box -->
  <rect x="175" y="60" width="500" height="45" rx="8" fill="#FFF8E1" stroke="#FF9800" stroke-width="2"/>
  <text x="425" y="90" font-family="Arial, sans-serif" font-size="16" fill="#E65100" text-anchor="middle">Attention(Q, K, V) = softmax(QK^T / sqrt(dk)) V</text>
  
  <!-- Input Section -->
  <text x="90" y="140" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#666">Input</text>
  
  <!-- Input X -->
  <rect x="50" y="160" width="80" height="150" rx="6" fill="#ECEFF1" stroke="#607D8B" stroke-width="2"/>
  <text x="90" y="240" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#455A64" text-anchor="middle">X</text>
  <text x="90" y="260" font-family="Arial, sans-serif" font-size="10" fill="#666" text-anchor="middle">(n x d)</text>
  
  <!-- Linear Projections -->
  <text x="260" y="140" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#666">Linear Projections</text>
  
  <!-- Wq -->
  <rect x="180" y="165" width="70" height="40" rx="5" fill="#E91E63"/>
  <text x="215" y="190" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Wq</text>
  
  <!-- Wk -->
  <rect x="180" y="220" width="70" height="40" rx="5" fill="#2196F3"/>
  <text x="215" y="245" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Wk</text>
  
  <!-- Wv -->
  <rect x="180" y="275" width="70" height="40" rx="5" fill="#4CAF50"/>
  <text x="215" y="300" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Wv</text>
  
  <!-- Q, K, V vectors -->
  <rect x="290" y="165" width="50" height="40" rx="5" fill="#FCE4EC" stroke="#E91E63" stroke-width="2"/>
  <text x="315" y="190" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#E91E63" text-anchor="middle">Q</text>
  
  <rect x="290" y="220" width="50" height="40" rx="5" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
  <text x="315" y="245" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2196F3" text-anchor="middle">K</text>
  
  <rect x="290" y="275" width="50" height="40" rx="5" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
  <text x="315" y="300" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4CAF50" text-anchor="middle">V</text>
  
  <!-- Attention Computation -->
  <text x="500" y="140" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#666">Attention Computation</text>
  
  <!-- MatMul QÂ·K^T -->
  <rect x="390" y="185" width="90" height="45" rx="6" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
  <text x="435" y="205" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#E65100" text-anchor="middle">Q . K^T</text>
  <text x="435" y="220" font-family="Arial, sans-serif" font-size="9" fill="#666" text-anchor="middle">MatMul</text>
  
  <!-- Scale -->
  <rect x="390" y="250" width="90" height="35" rx="6" fill="#E1F5FE" stroke="#03A9F4" stroke-width="2"/>
  <text x="435" y="273" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#0277BD" text-anchor="middle">/ sqrt(dk)</text>
  
  <!-- Softmax -->
  <rect x="390" y="305" width="90" height="35" rx="6" fill="#F3E5F5" stroke="#9C27B0" stroke-width="2"/>
  <text x="435" y="328" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#7B1FA2" text-anchor="middle">Softmax</text>
  
  <!-- Attention Weights -->
  <rect x="510" y="265" width="90" height="65" rx="6" fill="#FFF8E1" stroke="#FFC107" stroke-width="2"/>
  <text x="555" y="293" font-family="Arial, sans-serif" font-size="10" fill="#F57F17" text-anchor="middle">Attention</text>
  <text x="555" y="308" font-family="Arial, sans-serif" font-size="10" fill="#F57F17" text-anchor="middle">Weights</text>
  <text x="555" y="322" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="middle">(n x n)</text>
  
  <!-- MatMul with V -->
  <rect x="640" y="265" width="90" height="65" rx="6" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
  <text x="685" y="293" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2E7D32" text-anchor="middle">x V</text>
  <text x="685" y="310" font-family="Arial, sans-serif" font-size="9" fill="#666" text-anchor="middle">MatMul</text>
  
  <!-- Output -->
  <rect x="700" y="370" width="90" height="50" rx="6" fill="#FFECB3" stroke="#FF9800" stroke-width="3"/>
  <text x="745" y="395" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#E65100" text-anchor="middle">Output</text>
  <text x="745" y="412" font-family="Arial, sans-serif" font-size="9" fill="#666" text-anchor="middle">(n x dv)</text>
  
  <!-- Arrows -->
  <!-- X to projections -->
  <line x1="130" y1="185" x2="175" y2="185" stroke="#666" stroke-width="2"/>
  <polygon points="170,180 180,185 170,190" fill="#666"/>
  <line x1="130" y1="240" x2="175" y2="240" stroke="#666" stroke-width="2"/>
  <polygon points="170,235 180,240 170,245" fill="#666"/>
  <line x1="130" y1="295" x2="175" y2="295" stroke="#666" stroke-width="2"/>
  <polygon points="170,290 180,295 170,300" fill="#666"/>
  
  <!-- Projections to QKV -->
  <line x1="255" y1="185" x2="285" y2="185" stroke="#E91E63" stroke-width="2"/>
  <polygon points="280,180 290,185 280,190" fill="#E91E63"/>
  <line x1="255" y1="240" x2="285" y2="240" stroke="#2196F3" stroke-width="2"/>
  <polygon points="280,235 290,240 280,245" fill="#2196F3"/>
  <line x1="255" y1="295" x2="285" y2="295" stroke="#4CAF50" stroke-width="2"/>
  <polygon points="280,290 290,295 280,300" fill="#4CAF50"/>
  
  <!-- Q, K to MatMul -->
  <line x1="345" y1="185" x2="385" y2="200" stroke="#E91E63" stroke-width="2"/>
  <line x1="345" y1="240" x2="385" y2="215" stroke="#2196F3" stroke-width="2"/>
  
  <!-- Flow through attention -->
  <line x1="435" y1="235" x2="435" y2="245" stroke="#666" stroke-width="2"/>
  <line x1="435" y1="290" x2="435" y2="300" stroke="#666" stroke-width="2"/>
  <line x1="485" y1="320" x2="505" y2="300" stroke="#666" stroke-width="2"/>
  <line x1="605" y1="297" x2="635" y2="297" stroke="#666" stroke-width="2"/>
  <polygon points="630,292 640,297 630,302" fill="#666"/>
  
  <!-- V to final MatMul -->
  <path d="M345 295 L360 295 L360 400 L635 400 L635 320" stroke="#4CAF50" stroke-width="2" fill="none"/>
  <polygon points="630,325 635,315 640,325" fill="#4CAF50"/>
  
  <!-- Output arrow -->
  <line x1="745" y1="335" x2="745" y2="365" stroke="#FF9800" stroke-width="2"/>
  <polygon points="740,360 745,370 750,360" fill="#FF9800"/>
  
  <!-- Step labels -->
  <rect x="50" y="470" width="750" height="65" rx="8" fill="#FAFAFA" stroke="#E0E0E0"/>
  <text x="425" y="495" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333" text-anchor="middle">Steps:</text>
  <text x="425" y="520" font-family="Arial, sans-serif" font-size="11" fill="#666" text-anchor="middle">1. Project X to Q, K, V | 2. Compute QK^T | 3. Scale by sqrt(dk) | 4. Apply Softmax | 5. Multiply by V</text>
</svg>